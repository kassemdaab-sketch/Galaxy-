<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Google Docs</title>
    <link rel="icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico" type="image/x-icon">
    <style>
        body { margin: 0; background: #000; overflow: hidden; height: 100vh; width: 100vw; }
        /* High-speed falling stars for the brief transition */
        .s {
            position: absolute; background: #fff; border-radius: 50%;
            opacity: 0.5; animation: f linear infinite;
        }
        @keyframes f { from { transform: translateY(-10vh); } to { transform: translateY(110vh); } }
    </style>
</head>
<body>
    <div id="star-field"></div>

    <script>
        // Generate stars for the black screen
        for (let i = 0; i < 30; i++) {
            let s = document.createElement('div');
            s.className = 's';
            let size = Math.random() * 2 + 'px';
            s.style.width = s.style.height = size;
            s.style.left = Math.random() * 100 + 'vw';
            s.style.animationDuration = Math.random() * 1 + 1 + 's';
            document.getElementById('star-field').appendChild(s);
        }

        let activated = false;

        // Triggers as soon as any interaction is detected (mouse move, click, or touch)
        function launch() {
            if (activated) return;
            activated = true;

            const win = window.open('about:blank', '_blank');
            if (!win) return;

            const doc = win.document;
            const content = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Google Docs</title>
                    <link rel="icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico">
                    <style>
                        body { margin:0; background:#05010a; color:#bc13fe; font-family:sans-serif; height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; overflow:hidden; }
                        h1 { font-size:4rem; letter-spacing:15px; margin:0 0 20px 0; text-shadow:0 0 20px #bc13fe; font-weight:900; }
                        input { padding:15px 35px; width:450px; border-radius:50px; border:1px solid #bc13fe; background:rgba(0,0,0,0.8); color:white; outline:none; text-align:center; font-size:1.1rem; }
                        iframe { position:fixed; top:0; left:0; width:100%; height:100%; border:none; display:none; }
                        .star { position:absolute; background:white; border-radius:50%; opacity:0.6; animation: fall linear infinite; }
                        @keyframes fall { from{transform:translateY(-10vh)} to{transform:translateY(110vh)} }
                    </style>
                </head>
                <body>
                    <div id="stars"></div>
                    <div id="ui">
                        <h1>GALAXY</h1>
                        <input type="text" id="q" placeholder="Search or Enter URL..." autofocus>
                    </div>
                    <iframe id="f"></iframe>
                    <script>
                        for(let i=0;i<50;i++){
                            let s=document.createElement('div'); s.className='star';
                            let z=Math.random()*2+'px'; s.style.width=s.style.height=z;
                            s.style.left=Math.random()*100+'vw';
                            s.style.animationDuration=Math.random()*2+2+'s';
                            document.getElementById('stars').appendChild(s);
                        }
                        const q = document.getElementById('q');
                        const f = document.getElementById('f');
                        q.addEventListener('keydown', (e) => {
                            if(e.key === 'Enter' && q.value) {
                                let v = q.value;
                                let u = v.includes('.') ? (v.startsWith('http') ? v : 'https://'+v) : 'https://www.bing.com/search?q='+encodeURIComponent(v);
                                document.title = "Google Classroom";
                                document.querySelector("link[rel*='icon']").href = "https://ssl.gstatic.com/classroom/favicon.png";
                                f.style.display = 'block';
                                document.getElementById('ui').style.display = 'none';
                                f.contentWindow.location.replace(u);
                            }
                        });
                    <\/script>
                </body>
                </html>
            `;

            doc.open();
            doc.write(content);
            doc.close();

            // The original tab cleans itself by going to Google
            window.location.replace("https://www.google.com");
        }

        // Listeners to ensure it launches as fast as possible on any input
        window.addEventListener('mousemove', launch);
        window.addEventListener('mousedown', launch);
        window.addEventListener('keydown', launch);
        window.addEventListener('touchstart', launch);
    </script>
</body>
</html>
