<script>
    function launch() {
        const input = document.getElementById('urlInput').value.trim();
        if (!input) return;

        let targetUrl = "";
        if (input.includes('.') && !input.includes(' ')) {
            targetUrl = input.startsWith('http') ? input : 'https://' + input;
        } else {
            // Using the /html endpoint for better Node.js iframe compatibility
            targetUrl = `https://duckduckgo.com/html/?q=${encodeURIComponent(input)}`;
        }

        // This links the HTML to your Node.js engine
        const proxyUrl = `/api/proxy?url=${encodeURIComponent(targetUrl)}`;
        document.getElementById('content-frame').src = proxyUrl;
    }
</script>
